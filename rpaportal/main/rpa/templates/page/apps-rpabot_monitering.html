<!DOCTYPE html>
{% load static %}
<html lang="ko">

<head>
    <meta charset="utf-8"/>
    <title> RPA PORTAL </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description"/>
    <meta content="Coderthemes" name="author"/>

    <!-- App favicon -->
    <link rel="shortcut icon" href="{% static 'assets/images/favicon.ico' %}">

    <!-- Theme Config Js -->
    <script src="{% static 'assets/js/hyper-config.js' %}"></script>

    <!-- App css -->
    <link href="{% static 'assets/css/app-saas.min.css' %}" rel="stylesheet" type="text/css" id="app-style"/>

    <!-- Icons css -->
    <link href="{% static 'assets/css/icons.min.css' %}" rel="stylesheet" type="text/css"/>
</head>

<body>
<!-- Begin page -->
<div class="wrapper">
{% include 'page/navbar_top.html' %}
{% include 'page/navbar_left.html' %}

    <div class="content-page">
        <div class="content">

            <!-- Start Content-->
            <div class="container-fluid">

                <!-- start page title -->
                <div class="row">
                    <div class="col-12">
                        <div class="page-title-box">
                            <div class="page-title-right">
                                <ol class="breadcrumb m-0">
                                    <button type="button" class="btn btn-primary" onclick="openNewTabWithSize('https://130.1.24.30:443/screen?id=29&ts=', 800, 600)">인증하기</button>

                                </ol>
                            </div>
                            <h4 class="page-title">RPA Bot 모니터링 (VM)</h4>

                        </div>
                    </div>
                </div>
                <!-- end page title -->


                <!-- end row   -->
                <div class="row">
                    <div class="col-sm-6 col-lg-4">
                        <div class="card">
                            <a style="min-width: 200px; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                            <img id="img1" src="https://130.1.24.30:443/screen?id=29&ts="
                                  onerror="this.src='{% static 'assets/images/spinner.gif' %}'; this.style.width='30px'; this.style.height='30px';"
                                class="card-img-top" alt="...">
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">RUNNER-BOT-22</h5>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 col-lg-4">
                        <div class="card">
                            <a style="min-width: 200px; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                        <img id="img2" src="https://130.1.24.30:443/screen?id=30&ts="
                             onerror="this.src='{% static 'assets/images/spinner.gif' %}'; this.style.width='30px'; this.style.height='30px';"
                             class="card-img-top" alt="...">
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">RUNNER-BOT-23</h5>
                            </div> <!-- end card-body -->
                        </div> <!-- end card -->
                    </div> <!-- end col-->
                    <div class="col-sm-6 col-lg-4">
                        <div class="card">
                            <a style="min-width: 200px; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                            <img id="img3" src="https://130.1.24.30:443/screen?id=33&ts="
                                 onerror="this.src='{% static 'assets/images/spinner.gif' %}'; this.style.width='30px'; this.style.height='30px';"
                                class="card-img-top" alt="...">
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">RUNNER-BOT-35</h5>
                            </div> <!-- end card-body -->
                        </div> <!-- end card -->
                    </div> <!-- end col-->

                </div>

                <div class="row">
                    <div class="col-sm-6 col-lg-4">
                        <div class="card">
                            <a style="min-width: 200px; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                            <img id="img4" src="https://130.1.24.30:443/screen?id=37&ts="
                                 onerror="this.src='{% static 'assets/images/spinner.gif' %}'; this.style.width='30px'; this.style.height='30px';"
                                class="card-img-top" alt="..."></a>
                            <div class="card-body">
                                <h5 class="card-title">RUNNER-BOT-39</h5>
                            </div> <!-- end card-body -->
                        </div> <!-- end card -->
                    </div> <!-- end col-->

                    <div class="col-sm-6 col-lg-4">
                        <div class="card">
                            <a style="min-width: 200px; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center;">
                            <img id="img5" src="https://130.1.24.30:443/screen?id=38&ts="
                                 onerror="this.src='{% static 'assets/images/spinner.gif' %}'; this.style.width='30px'; this.style.height='30px';"
                                 class="card-img-top" alt="...">
                            </a>
                            <div class="card-body">
                                <h5 class="card-title">RUNNER-BOT-40</h5>
                            </div> <!-- end card-body -->
                        </div> <!-- end card -->
                    </div> <!-- end col-->

                </div>


            </div> <!-- container -->

        </div> <!-- content -->

        <!-- Footer Start -->
        <footer class="footer">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-6">
                        <!--                        <script>document.write(new Date().getFullYear())</script>-->
                        삼양데이타시스템 - Digital Lab
                    </div>
                    <div class="col-md-6">
                        <div class="text-md-end footer-links d-none d-md-block">
                            <a href="javascript: void(0);">RPA 담당자</a>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- end Footer -->

    </div>

    <!-- ============================================================== -->
    <!-- End Page content -->
    <!-- ============================================================== -->

</div>
<!-- END wrapper -->

<!-- Vendor js -->
<script src="{% static 'assets/js/vendor.min.js' %}"></script>

<!-- App js -->
<script src="{% static 'assets/js/app.min.js' %}"></script>
<script>
let newWindow;

function openNewTabWithSize(url, width, height) {
    const left = (window.innerWidth - width) / 2;
    const top = (window.innerHeight - height) / 2;

    newWindow = window.open(url, '_blank', `width=${width}, height=${height}, left=${left}, top=${top}`);

    // Add an event listener to detect when the new window is closed
    if (newWindow) {
        newWindow.addEventListener('beforeunload', function () {
            // Show a confirmation message when the new window is closed
            const confirmClose = confirm('Are you sure you want to close this window?');
            if (confirmClose) {
                newWindow.close();

                window.location.reload();
            }
        });
    }
}
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
function refreshImages() {
    setTimeout(refreshImages, 5000);
    var time = new Date().getTime();
    var image1 = new Image();
    var image2 = new Image();
    var image3 = new Image();
    var image4 = new Image();
    var image5 = new Image();

    image1.onload = function() {
        $("#img1").attr("src", "https://130.1.24.30:443/screen?id=29&ts=" + time);
        $("#img1").on('load', function() {
            $("#img1").css({ width: '100%', height: '100%' });
        });
    };
    image1.src = "https://130.1.24.30:443/screen?id=29&ts=" + time;

    image2.onload = function() {
        $("#img2").attr("src", "https://130.1.24.30:443/screen?id=30&ts=" + time);
        $("#img2").on('load', function() {
            $("#img2").css({ width: '100%', height: '100%' });
        });
    };
    image2.src = "https://130.1.24.30:443/screen?id=30&ts=" + time;

    image3.onload = function() {
        $("#img3").attr("src", "https://130.1.24.30:443/screen?id=33&ts=" + time);
        $("#img3").on('load', function() {
            $("#img3").css({ width: '100%', height: '100%' });
        });
    };
    image3.src = "https://130.1.24.30:443/screen?id=33&ts=" + time;

    image4.onload = function() {
        $("#img4").attr("src", "https://130.1.24.30:443/screen?id=37&ts=" + time);
        $("#img4").on('load', function() {
            $("#img4").css({ width: '100%', height: '100%' });
        });
    };
    image4.src = "https://130.1.24.30:443/screen?id=37&ts=" + time;

    image5.onload = function() {
        $("#img5").attr("src", "https://130.1.24.30:443/screen?id=38&ts=" + time);
        $("#img5").on('load', function() {
            $("#img5").css({ width: '100%', height: '100%' });
        });
    };
    image5.src = "https://130.1.24.30:443/screen?id=38&ts=" + time;
}

<!--refreshImages();-->
</script>
</body>
</html>
